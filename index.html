<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>迟没有的回收站</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Writing 1000 words every day changed my life.">
<meta property="og:type" content="website">
<meta property="og:title" content="迟没有的回收站">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="迟没有的回收站">
<meta property="og:description" content="Writing 1000 words every day changed my life.">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="迟没有的回收站">
<meta name="twitter:description" content="Writing 1000 words every day changed my life.">
  
    <link rel="alternative" href="/atom.xml" title="迟没有的回收站" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
      <link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css" type="text/css">
  
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
     
      <meta name="baidu-site-verification" content="<meta name="baidu-site-verification" content="chMDoPXCRW" />" />
    
    
  
  
      <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <script>
      var yiliaConfig = {
          fancybox: true,
          animate: true,
          isHome: true,
          isPost: false,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false
      }
  </script>
  
      <script>
          var _hmt = _hmt || [];
          (function() {
              var hm = document.createElement("script");
              hm.src = "//hm.baidu.com/hm.js?3155566d3d65b290e606ea80633947ae";
              var s = document.getElementsByTagName("script")[0]; 
              s.parentNode.insertBefore(hm, s);
          })();
      </script>
  
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            
            <img lazy-src="/img/avatar.png" class="js-avatar">
            
        </a>

        <hgroup>
          <h1 class="header-author"><a href="/">Nothing Chi</a></h1>
        </hgroup>

        
        <p class="header-subtitle">Writing 1000 words every day changed my life.</p>
        
                


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">主页</a></li>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/tags/">标签云</a></li>
                        
                            <li><a href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <li id="Email"><a class="Email" target="_blank" href="mailto:chimingyu_neu@163.com" title="Email"></a></li>
                            
                                <li id="新浪微博"><a class="新浪微博" target="_blank" href="http://weibo.com/5417664457/profile?topnav=1&wvr=6&is_all=1" title="新浪微博"></a></li>
                            
                                <li id="RSS"><a class="RSS" target="_blank" href="/atom.xml" title="RSS"></a></li>
                            
                                <li id="知乎"><a class="知乎" target="_blank" href="https://www.zhihu.com/people/chi-mei-you" title="知乎"></a></li>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <a href="/tags/Java/" style="font-size: 16.67px;">Java</a> <a href="/tags/RDF/" style="font-size: 10px;">RDF</a> <a href="/tags/python/" style="font-size: 20px;">python</a> <a href="/tags/兴趣模型/" style="font-size: 10px;">兴趣模型</a> <a href="/tags/多源数据/" style="font-size: 10px;">多源数据</a> <a href="/tags/密码学/" style="font-size: 16.67px;">密码学</a> <a href="/tags/推荐系统/" style="font-size: 13.33px;">推荐系统</a> <a href="/tags/数据挖掘/" style="font-size: 16.67px;">数据挖掘</a> <a href="/tags/本体论/" style="font-size: 10px;">本体论</a> <a href="/tags/机器学习/" style="font-size: 10px;">机器学习</a> <a href="/tags/梯度下降法/" style="font-size: 10px;">梯度下降法</a> <a href="/tags/模拟登录/" style="font-size: 10px;">模拟登录</a> <a href="/tags/生活/" style="font-size: 10px;">生活</a> <a href="/tags/用户协同过滤/" style="font-size: 10px;">用户协同过滤</a> <a href="/tags/监督学习/" style="font-size: 10px;">监督学习</a> <a href="/tags/相似度度量/" style="font-size: 10px;">相似度度量</a> <a href="/tags/社交网络分析/" style="font-size: 16.67px;">社交网络分析</a> <a href="/tags/蓝桥杯/" style="font-size: 16.67px;">蓝桥杯</a>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="http://livc95.cn/">世界因我不同</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">一直泄密的信息安全学生</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">Nothing Chi</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                
                    <img lazy-src="/img/avatar.png" class="js-avatar">
                
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">Nothing Chi</a></h1>
            </hgroup>
            
            <p class="header-subtitle">Writing 1000 words every day changed my life.</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">主页</a></li>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/tags/">标签云</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <li id="Email"><a class="Email" target="_blank" href="mailto:chimingyu_neu@163.com" title="Email"></a></li>
                            
                                <li id="新浪微博"><a class="新浪微博" target="_blank" href="http://weibo.com/5417664457/profile?topnav=1&wvr=6&is_all=1" title="新浪微博"></a></li>
                            
                                <li id="RSS"><a class="RSS" target="_blank" href="/atom.xml" title="RSS"></a></li>
                            
                                <li id="知乎"><a class="知乎" target="_blank" href="https://www.zhihu.com/people/chi-mei-you" title="知乎"></a></li>
                            
                        </ul>
            </nav>
        </header>                
    </div>
</nav>
      <div class="body-wrap">
  
    <article id="post-密码学（四）" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/04/24/密码学（四）/" class="article-date">
      <time datetime="2016-04-24T13:24:56.000Z" itemprop="datePublished">2016-04-24</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/04/24/密码学（四）/">密码学（四）</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="经典换位加密法"><a href="#经典换位加密法" class="headerlink" title="经典换位加密法"></a>经典换位加密法</h1><h2 id="1-置换加密法"><a href="#1-置换加密法" class="headerlink" title="1. 置换加密法"></a>1. 置换加密法</h2><p>换位密码最简单的一种实现应该就是置换加密法了，置换加密法就像是洗扑克牌。在这种方法中，明文先被分割成大小相等的块，如长度为d，置换函数 $f$ 从1~d中选取一个整数，然后，每个块中的字母根据 f 重新排列。这种加密法的密钥就是(d, f)。</p>
<ul>
<li>step 1：将明文按照长度 d 分为 n 个块。</li>
<li>step 2：选取置换函数$f$，生成密钥$(d, f)$。</li>
<li>step 3：根据生成的密钥对明文每一个组进行重新排列，生成密文。<br>示例：</li>
</ul>
<ul>
<li>首先我们假设我们的明文为 wwwchimingyucom 。明文一共15位，我们按照3个字母为一组，进行划分。</li>
<li>我们将$f$ 给定为（2,3,1），意思是将第一个字符放到位置2，第二个字符放到位置三，第三个字符放到位置1.</li>
<li>对每一个组进行置换，得到密文为， www ich nmi ugy mco。</li>
</ul>
<h2 id="2-列置换加密法"><a href="#2-列置换加密法" class="headerlink" title="2. 列置换加密法"></a>2. 列置换加密法</h2><p>列置换加密法是对简单的置换加密的一种改进方法，首将明文按行填写在一个矩阵中，而密文则是以预定的顺序按列读取生成的。</p>
<ul>
<li>step 1：选取一个长度为 d 的keyword。</li>
<li>step 2：根据keyword生成读取顺序。</li>
<li>step 3：将明文写入矩阵，不足补’q’, ‘x’等字母。</li>
<li>step 4：根据生成的读取顺序重新读取明文。按行输出，即为密文。</li>
<li>密钥生成规则：字母的顺序大小就是密钥，如果有相同的字母，则第一个出现的字母小，要保证keyword长度和列数一致。</li>
</ul>
<p>示例：</p>
<ul>
<li>假设我们的明文为 wwwchimingyucom，我们选取一个长度为5的keyword，“hello”。</li>
<li>根据规则，我们的生成密钥为（2，1，3，4，5）</li>
<li>将明文构造成矩阵为</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">w</th>
<th style="text-align:center">w</th>
<th style="text-align:center">w</th>
<th style="text-align:center">c</th>
<th style="text-align:center">h</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">i</td>
<td style="text-align:center">m</td>
<td style="text-align:center">i</td>
<td style="text-align:center">n</td>
<td style="text-align:center">g</td>
</tr>
<tr>
<td style="text-align:center">y</td>
<td style="text-align:center">u</td>
<td style="text-align:center">c</td>
<td style="text-align:center">o</td>
<td style="text-align:center">m</td>
</tr>
</tbody>
</table>
<ul>
<li>根据规则进行置换，得到新矩阵</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">w</th>
<th style="text-align:center">w</th>
<th style="text-align:center">w</th>
<th style="text-align:center">c</th>
<th style="text-align:center">h</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">m</td>
<td style="text-align:center">i</td>
<td style="text-align:center">i</td>
<td style="text-align:center">n</td>
<td style="text-align:center">g</td>
</tr>
<tr>
<td style="text-align:center">u</td>
<td style="text-align:center">y</td>
<td style="text-align:center">c</td>
<td style="text-align:center">o</td>
<td style="text-align:center">m</td>
</tr>
</tbody>
</table>
<ul>
<li>输出密文 wwwch miing uycom。</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/密码学/">密码学</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-密码学（三）" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/04/19/密码学（三）/" class="article-date">
      <time datetime="2016-04-19T14:45:14.000Z" itemprop="datePublished">2016-04-19</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/04/19/密码学（三）/">密码学（三）</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="经典多图加密法"><a href="#经典多图加密法" class="headerlink" title="经典多图加密法"></a>经典多图加密法</h1><p>在单码加密中，每个字符是由另一个字符所替代；在多码加密法中，每一个明文字符可以用多个密文字符替代。但是，单码和多码加密都是作用于单个字符。凡是一次加密一个字母的加密法都称为单图加密法。多图加密法则是作用于字符组。明文的n个字符组合被密文的n个字母组合替换。</p>
<h2 id="1-Playfair加密法"><a href="#1-Playfair加密法" class="headerlink" title="1. Playfair加密法"></a>1. Playfair加密法</h2><p>Playfair 加密法不仅比之前的标准单码和多码加密法更具挑战性，而且他的实现非常简单。该加密法是基于一个关键词的，该关键词写在一个$5\times5$的矩阵中（去除重复字母和j）。字母表中其他未用到的字母按顺序填写在正方形剩下的空位中。利于，关键词”telegram”可构成如下的正方形：</p>
<table>
<thead>
<tr>
<th style="text-align:center">t</th>
<th style="text-align:center">e</th>
<th style="text-align:center">l</th>
<th style="text-align:center">g</th>
<th style="text-align:center">r</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">a</td>
<td style="text-align:center">m</td>
<td style="text-align:center">b</td>
<td style="text-align:center">c</td>
<td style="text-align:center">d</td>
</tr>
<tr>
<td style="text-align:center">f</td>
<td style="text-align:center">h</td>
<td style="text-align:center">i</td>
<td style="text-align:center">k</td>
<td style="text-align:center">n</td>
</tr>
<tr>
<td style="text-align:center">o</td>
<td style="text-align:center">p</td>
<td style="text-align:center">q</td>
<td style="text-align:center">s</td>
<td style="text-align:center">u</td>
</tr>
<tr>
<td style="text-align:center">v</td>
<td style="text-align:center">w</td>
<td style="text-align:center">x</td>
<td style="text-align:center">y</td>
<td style="text-align:center">z</td>
</tr>
</tbody>
</table>
<p>通过在正方形中查找明文对，并根据一下三个规则之一来选取密文，从而将明文字母对转换成密文对：</p>
<ul>
<li>如果两个明文字符出现在正方形的同一行，选取右边的字符作为密文。</li>
<li>如果两个明文字符出现在正方形的同一列，选取下方的字符作为密文。</li>
<li>如果两个明文字符出现在不同行，不同列，那么他们就形成了包含这两点的正方形，选用在这个正方形上的另外两个点的字符作为密文。</li>
</ul>
<p>在使用上述规则之前，需要对我们的明文进行一定的预处理。</p>
<ul>
<li>用 i 代替所有的 j 。</li>
<li>在双子母之间直接插入一个等效字母（通常是“x” 或“q”）。</li>
<li>若明文字符数为奇数，则在木为添加一个等效字母，使得字母数为偶数。</li>
</ul>
<p>示例：</p>
<ul>
<li>我们选用“telegram”作为关键字，明文为 “ next time, jay try something different ”。</li>
<li>将字母“j”改为“i”，明文变为 “ next time, iay, try something different”。</li>
<li>在双子母中插入“q”，明文变成了“ next qtime, iay, try something difqferent”。</li>
<li>由于明文现在有 34 个字母，不需要补位了。当然，明文现在看起来有点奇怪，但是还是可读的。</li>
<li>对于明文的第一对字母“ne”，在上面的正方形中查找，用这两个字母所在的点画一个四方形，该四方形另两个角上的字母就是这个明文对应的密文，即“hr”。这里应用的是同行原则，即明文被替换成和它同行的那一个字符。</li>
<li>重复该过程完成加密，最终的密文为“hrvlo lhblh cvetg ypale ikkrb nioht tlfr”。<h2 id="2-Double-Playfair"><a href="#2-Double-Playfair" class="headerlink" title="2. Double Playfair"></a>2. Double Playfair</h2>如果 Playfair 加密的安全性不能满足我们的需求，那么最简单实用的办法就是再<strong>double</strong> 但是这种二次加密并不是简单的对密文再加密一次，而是有他的特定规则。 </li>
<li>选取两个关键字形成两个$5\times5$的矩阵。</li>
<li>将明文分成等长的若干组。</li>
<li>对分组后的每一组明文进行ij替换。</li>
<li>将每一个分组写成一行。</li>
<li>将上面的一行与下面的一行对应的明文构成加密字符对，上面的明文在第一个矩阵中，下面的明文在第二个矩阵中，应用如下加密规则<ul>
<li>如果两个字符不同行，不同列，则使用两个字符构成的矩阵的另外两个对角的字符根据同行规则进行加密。 </li>
<li>如果两个字符同行，则使用每个字符在另一个矩阵中的右边的字母进行加密。</li>
</ul>
</li>
<li>得到的密文对再次应用如上规则，得到最终的密文。<br>示例： </li>
</ul>
<ul>
<li>我们选取“software”和“computer”作为关键字密钥。得到的两个矩阵如下：</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">s</th>
<th style="text-align:center">o</th>
<th style="text-align:center">f</th>
<th style="text-align:center">t</th>
<th style="text-align:center">w</th>
<th></th>
<th style="text-align:center">c</th>
<th style="text-align:center">o</th>
<th style="text-align:center">m</th>
<th style="text-align:center">p</th>
<th style="text-align:center">u</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">a</td>
<td style="text-align:center">r</td>
<td style="text-align:center">e</td>
<td style="text-align:center">b</td>
<td style="text-align:center">c</td>
<td></td>
<td style="text-align:center">t</td>
<td style="text-align:center">e</td>
<td style="text-align:center">r</td>
<td style="text-align:center">a</td>
<td style="text-align:center">b</td>
</tr>
<tr>
<td style="text-align:center">d</td>
<td style="text-align:center">g</td>
<td style="text-align:center">h</td>
<td style="text-align:center">i</td>
<td style="text-align:center">k</td>
<td></td>
<td style="text-align:center">d</td>
<td style="text-align:center">f</td>
<td style="text-align:center">g</td>
<td style="text-align:center">h</td>
<td style="text-align:center">i</td>
</tr>
<tr>
<td style="text-align:center">l</td>
<td style="text-align:center">m</td>
<td style="text-align:center">n</td>
<td style="text-align:center">p</td>
<td style="text-align:center">q</td>
<td></td>
<td style="text-align:center">k</td>
<td style="text-align:center">l</td>
<td style="text-align:center">n</td>
<td style="text-align:center">q</td>
<td style="text-align:center">s</td>
</tr>
<tr>
<td style="text-align:center">u</td>
<td style="text-align:center">v</td>
<td style="text-align:center">x</td>
<td style="text-align:center">y</td>
<td style="text-align:center">z</td>
<td></td>
<td style="text-align:center">v</td>
<td style="text-align:center">w</td>
<td style="text-align:center">x</td>
<td style="text-align:center">y</td>
<td style="text-align:center">z</td>
</tr>
</tbody>
</table>
<ul>
<li>我们的密文为“this is a diffcult but not an impossible cipher”，每十个字符一组进行变换得到分组为</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">t</th>
<th style="text-align:center">h</th>
<th style="text-align:center">i</th>
<th style="text-align:center">s</th>
<th style="text-align:center">i</th>
<th style="text-align:center">s</th>
<th style="text-align:center">a</th>
<th style="text-align:center">d</th>
<th style="text-align:center">i</th>
<th style="text-align:center">f</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">f</td>
<td style="text-align:center">i</td>
<td style="text-align:center">c</td>
<td style="text-align:center">u</td>
<td style="text-align:center">l</td>
<td style="text-align:center">t</td>
<td style="text-align:center">b</td>
<td style="text-align:center">u</td>
<td style="text-align:center">t</td>
<td style="text-align:center">n</td>
</tr>
<tr>
<td style="text-align:center">o</td>
<td style="text-align:center">t</td>
<td style="text-align:center">a</td>
<td style="text-align:center">n</td>
<td style="text-align:center">i</td>
<td style="text-align:center">m</td>
<td style="text-align:center">p</td>
<td style="text-align:center">o</td>
<td style="text-align:center">s</td>
<td style="text-align:center">s</td>
</tr>
<tr>
<td style="text-align:center">i</td>
<td style="text-align:center">b</td>
<td style="text-align:center">l</td>
<td style="text-align:center">e</td>
<td style="text-align:center">c</td>
<td style="text-align:center">i</td>
<td style="text-align:center">p</td>
<td style="text-align:center">h</td>
<td style="text-align:center">e</td>
<td style="text-align:center">r</td>
</tr>
</tbody>
</table>
<ul>
<li>首先对明文对“tf”进行加密，在第一个矩阵中找到“t”，第二个矩阵中找到“f”，利用他们另一个对角的字母，根据同行规则的到密文为“oi”，在进行一次相同操作，得到最终密文为“ug”</li>
<li>对于第二的明文对“hi”，发现他们两个在同一行，找到另一个矩阵中的右边字符，二矩阵h的右边为i，一矩阵i的右边为d。得到密文为“id”，再次应用规则，二矩阵i的右边为d，一矩阵d的右边为g，则最后加密结果为，“dg”。</li>
<li>对所有明文应用规则，就可以的到密文了。 </li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/密码学/">密码学</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-密码学（二）" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/04/10/密码学（二）/" class="article-date">
      <time datetime="2016-04-10T14:46:48.000Z" itemprop="datePublished">2016-04-10</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/04/10/密码学（二）/">密码学（二）</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>经典多码加密法</p>
<ol>
<li>Vigenere加密法<br>step 1：选取一个关键字，去除重复字母。<br>step 2：将关键字写在明文上方，并反复书写。<br>step 3：利用明文和密钥构成的字母对，在Vigenere表中找到对应位置的字母进行替换。<br><img src="http://7xrav5.com1.z0.glb.clouddn.com/2016041001.jpg" alt="Vigenere表"><br>示例：</li>
</ol>
<ul>
<li>假设我们的明文为 wwwchimingyucom，密钥为hold，</li>
<li>按照step 2 操作，得到字母对</li>
<li>查表进行替换，最终的密文为 dkhfowxluujxjcu</li>
</ul>
<table>
<thead>
<tr>
<th>h</th>
<th>o</th>
<th>l</th>
<th>d</th>
<th>h</th>
<th>o</th>
<th>l</th>
<th>d</th>
<th>h</th>
<th>o</th>
<th>l</th>
<th>d</th>
<th>h</th>
<th>o</th>
<th>l</th>
</tr>
</thead>
<tbody>
<tr>
<td>w</td>
<td>w</td>
<td>w</td>
<td>c</td>
<td>h</td>
<td>i</td>
<td>m</td>
<td>i</td>
<td>n</td>
<td>g</td>
<td>y</td>
<td>u</td>
<td>c</td>
<td>o</td>
<td>m</td>
</tr>
<tr>
<td>d</td>
<td>k</td>
<td>h</td>
<td>f</td>
<td>o</td>
<td>w</td>
<td>x</td>
<td>l</td>
<td>u</td>
<td>u</td>
<td>j</td>
<td>x</td>
<td>j</td>
<td>c</td>
<td>u</td>
</tr>
</tbody>
</table>
<ol>
<li>自动密钥加密法<br>自动密钥加密法是Vigenere加密法的一种改进方法，它的密钥不仅仅是一个关键词，而是可以根据加密内容生成新的密钥。<br>step 1：选取关键字，去重。<br>step 2：将关键字写在明文上方，仅书写一次，其余的空缺部分利用明文/密文替代作为密钥。<br>step 3：利用明文和密钥构成的字母对，在Vigenere表中找到对应位置的字母进行替换。<br>示例：</li>
</ol>
<ul>
<li>假设我们的明文为 wwwchimingyucom，密钥为hold，</li>
<li>按照step 2 操作，得到字母对，在这里，我们选取密文作为自动生成的密钥，明文密钥与之相同。</li>
<li>查表进行替换，最终的密文为 dkhfkstnxyrhzmd</li>
</ul>
<table>
<thead>
<tr>
<th>h</th>
<th>o</th>
<th>l</th>
<th>d</th>
<th>d</th>
<th>k</th>
<th>h</th>
<th>f</th>
<th>k</th>
<th>s</th>
<th>t</th>
<th>n</th>
<th>x</th>
<th>y</th>
<th>r</th>
</tr>
</thead>
<tbody>
<tr>
<td>w</td>
<td>w</td>
<td>w</td>
<td>c</td>
<td>h</td>
<td>i</td>
<td>m</td>
<td>i</td>
<td>n</td>
<td>g</td>
<td>y</td>
<td>u</td>
<td>c</td>
<td>o</td>
<td>m</td>
</tr>
<tr>
<td>d</td>
<td>k</td>
<td>h</td>
<td>f</td>
<td>k</td>
<td>s</td>
<td>t</td>
<td>n</td>
<td>x</td>
<td>y</td>
<td>r</td>
<td>h</td>
<td>z</td>
<td>m</td>
<td>d</td>
</tr>
</tbody>
</table>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/密码学/">密码学</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-模拟登录饿了么" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/04/08/模拟登录饿了么/" class="article-date">
      <time datetime="2016-04-08T14:29:05.000Z" itemprop="datePublished">2016-04-08</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/04/08/模拟登录饿了么/">模拟登陆饿了么</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>最近一段时间，一直在搞这个模拟登陆，弄了很多天，终于成功了。<br>模拟登陆，就是用程序去模拟浏览器的行为，所以，第一个步骤就是要弄清楚在我们登录网站的时候，浏览器做了哪些工作。在这里，我是用的是火狐开发者版自带的工具进行数据包分析。<br>首先打开饿了么<a href="https://account.ele.me/login" target="_blank" rel="external">登录页面</a>，找到工具中的查看器，然后选择网络，就可以看到数据包的信息。效果如图：<img src="http://7xrav5.com1.z0.glb.clouddn.com/2016040801.png" alt="enter image description here"><br>一般我们登录的过程为，浏览器向服务器POST一个包含我们用户名密码的数据包，然后服务器返回cookie，然后我们就可以用这个cookie来对这个网站的网页进行访问。<br>我们还需要注意到的一点是现在大多数网站访问是需要验证码的，也就是说，在提交POST数据的时候，我们不仅要提交用户名密码，还需要加上验证码。那么验证码该怎么获取呢，我们看一下，当我们打开登录页面时，验证码的url。<br><img src="http://7xrav5.com1.z0.glb.clouddn.com/2016040802.png" alt="enter image description here"><br>可以看到，是浏览器向这个url发送了一个GET请求，然后服务器将验证码的图片返回。而这个url是由<a href="https://account.ele.me/restapi/v1/captchas/" target="_blank" rel="external">https://account.ele.me/restapi/v1/captchas/</a> 和一个字符串连接而成。很明显，这个字符串是随机生成的，那么，怎么得到这个字符串呢。我们发现在数据包中，有一个POST数据，请求地址是<a href="https://account.ele.me/restapi/v1/captchas" target="_blank" rel="external">https://account.ele.me/restapi/v1/captchas</a> ，再看一下返回的值<img src="http://7xrav5.com1.z0.glb.clouddn.com/2016040803.png" alt="enter image description here"><br>这就是那个拼接url的字符串了。<br>这时候，我们就可以向服务器请求验证码回本地了，这时候还有一个问题，服务器怎么知道这个验证码是张三的验证码而不是李四的呢，http协议是无状态的，所以就需要用到cookie了，我们发现，在向<a href="https://account.ele.me/restapi/v1/captchas" target="_blank" rel="external">https://account.ele.me/restapi/v1/captchas</a> POST数据时，返回头中包含了一个set-cookie字段，这个字段的值，就是我们要的cookie了<br><img src="http://7xrav5.com1.z0.glb.clouddn.com/2016040804.png" alt="enter image description here"><br>这样，我们在发送我们的用户名，密码以及验证码的时候，在请求头中附上cookie，系统就知道了我们是哪一个人，就可以顺利完成验证了。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getCaptchaUrl</span><span class="params">(res)</span>:</span></span><br><span class="line">    code = res.text.split(<span class="string">':'</span>)[<span class="number">1</span>].split(<span class="string">'"'</span>)[<span class="number">1</span>]    </span><br><span class="line">    <span class="keyword">return</span> <span class="string">'https://account.ele.me/restapi/v1/captchas'</span> + <span class="string">'/'</span> + code</span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">downLoadCaptcha</span><span class="params">(res)</span>:</span></span><br><span class="line">    eleme_captcha = s.get(getCaptchaUrl(res),stream = <span class="keyword">True</span>)</span><br><span class="line">    f = open(<span class="string">'D://elemecaptcha2.jpeg'</span>, <span class="string">'wb'</span>) </span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> eleme_captcha.iter_content(<span class="number">10</span>): </span><br><span class="line">        f.write(line) </span><br><span class="line">    f.close()</span><br><span class="line"> </span><br><span class="line">s = requests.session()</span><br><span class="line">home_url = <span class="string">'https://account.ele.me/login'</span></span><br><span class="line">base_headers = &#123;</span><br><span class="line"><span class="string">'User-Agent'</span>: <span class="string">'Mozilla/5.0 (Windows NT 6.1; WOW64; rv:47.0) Gecko/20100101 Firefox/47.0'</span>,</span><br><span class="line"><span class="string">'Connection'</span>: <span class="string">'keep-alive'</span></span><br><span class="line">&#125;</span><br><span class="line">res = s.post(<span class="string">'https://account.ele.me/restapi/v1/captchas'</span>)</span><br><span class="line">_cookies = res.cookies</span><br><span class="line">downLoadCaptcha(res)</span><br><span class="line">captcha = raw_input(<span class="string">'captcha:'</span>)</span><br><span class="line">login_data =&#123;<span class="string">"captcha_code"</span>:captcha,<span class="string">"username"</span>:<span class="string">"你的用户名"</span>,<span class="string">"password"</span>:<span class="string">"你的密码"</span>&#125;</span><br><span class="line"></span><br><span class="line">res = s.post(<span class="string">'https://account.ele.me/restapi/v1/login'</span>,data = json.dumps(login_data),headers = base_headers,cookies = _cookies)</span><br><span class="line">_cookies = res.cookies</span><br><span class="line"><span class="keyword">print</span> res.status_code</span><br></pre></td></tr></table></figure>
<p>这里有一个坑是发送的数据需要是JSON格式的，务必记得要转换正确的格式，这个错误足足困扰了我一个星期。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/">python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/模拟登录/">模拟登录</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-密码学（一）" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/04/04/密码学（一）/" class="article-date">
      <time datetime="2016-04-04T14:53:16.000Z" itemprop="datePublished">2016-04-04</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/04/04/密码学（一）/">密码学（一）</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="密码学（一）"><a href="#密码学（一）" class="headerlink" title="密码学（一）"></a>密码学（一）</h1><p>今天整理了学习过的一些经典加密方法，也叫作古典加密法。</p>
<h2 id="一-经典单码加密法"><a href="#一-经典单码加密法" class="headerlink" title="一. 经典单码加密法"></a>一. 经典单码加密法</h2><h3 id="1-关键词加密法-keyword-cipher"><a href="#1-关键词加密法-keyword-cipher" class="headerlink" title="1. 关键词加密法(keyword cipher)"></a>1. 关键词加密法(keyword cipher)</h3><p>step 1：选定关键词，并去除关键词中重复的字母。<br>step 2：将关键词写在字母表下方，其余部分按顺序填充。<br>step 3：进行逐一替换，得到密文。<br>示例：</p>
<ul>
<li>选定关键词 success，进行去重，得到 suce。</li>
<li>将 suce 写到字母表下方，进行填充</li>
</ul>
<table>
<thead>
<tr>
<th>a</th>
<th>b</th>
<th>c</th>
<th>d</th>
<th>e</th>
<th>f</th>
<th>g</th>
<th>h</th>
<th>i</th>
<th>j</th>
<th>k</th>
<th>l</th>
<th>m</th>
<th>n</th>
<th>o</th>
<th>p</th>
<th>q</th>
<th>r</th>
<th>s</th>
<th>t</th>
<th>u</th>
<th>v</th>
<th>w</th>
<th>x</th>
<th>y</th>
<th>z</th>
</tr>
</thead>
<tbody>
<tr>
<td>s</td>
<td>u</td>
<td>c</td>
<td>e</td>
<td>a</td>
<td>b</td>
<td>d</td>
<td>f</td>
<td>g</td>
<td>h</td>
<td>i</td>
<td>j</td>
<td>k</td>
<td>l</td>
<td>m</td>
<td>n</td>
<td>o</td>
<td>p</td>
<td>q</td>
<td>r</td>
<td>t</td>
<td>v</td>
<td>w</td>
<td>x</td>
<td>y</td>
<td>z</td>
</tr>
</tbody>
</table>
<ul>
<li>假设我们的明文为 wwwchimingyucom，经过替换，我们得到密文 wwwcfgkgldytcmk<h3 id="2-仿射加密法-affine-cipher"><a href="#2-仿射加密法-affine-cipher" class="headerlink" title="2. 仿射加密法(affine cipher)"></a>2. 仿射加密法(affine cipher)</h3>step 1：选取密钥为（a，b），其中，a满足 $gcd(a,26)=1$<br>step 2：p表示明文数字，c为密文数字，按照如下方式进行加密<br>$$c = (ap+b)\;mod\;26$$<br>$$p = a^{-1}(c-b)\;mod\;26$$<br>其中 $a^{-1}$ 为乘法逆元<br>示例：</li>
<li>选取密钥（7，3），因为$gcd(7,26)=1$所以符合条件。</li>
<li>假设我们的密文为 <strong>HOT</strong>，进行计算得到密文为 <strong>axg</strong><br>$$c（H） = 7\times 7 + 3 ) \;mod \;26 = 52 \;mod \;26 = 0–a$$<br>$$c（O） = 7\times 14 + 3 ) \;mod \;26 =  101\;mod \;26 = 23–x$$<br>$$c（T） = 7\times 19 + 3 ) \;mod \;26 = 136 \;mod \;26 = 6–g$$<h3 id="3-多文字加密法（multilateral-cipher）"><a href="#3-多文字加密法（multilateral-cipher）" class="headerlink" title="3. 多文字加密法（multilateral cipher）"></a>3. 多文字加密法（multilateral cipher）</h3>step 1：选取长度为5，且不重复的关键字作为密钥，构造一个 $5\times5$ 的矩阵。<br>step 2：把j用i替代，将25个字母顺次填入矩阵中。<br>step 3：用明文在字母表中对应的行列，每两个密文替换一个明文。<br>示例：</li>
<li>选取密钥为 codes</li>
<li>构造矩阵</li>
</ul>
<table>
<thead>
<tr>
<th>&amp;</th>
<th>c</th>
<th>o</th>
<th>d</th>
<th>e</th>
<th>s</th>
</tr>
</thead>
<tbody>
<tr>
<td>c</td>
<td>a</td>
<td>b</td>
<td>c</td>
<td>d</td>
<td>e</td>
</tr>
<tr>
<td>o</td>
<td>f</td>
<td>g</td>
<td>h</td>
<td>i</td>
<td>k</td>
</tr>
<tr>
<td>d</td>
<td>l</td>
<td>m</td>
<td>n</td>
<td>o</td>
<td>p</td>
</tr>
<tr>
<td>e</td>
<td>q</td>
<td>r</td>
<td>s</td>
<td>t</td>
<td>u</td>
</tr>
<tr>
<td>s</td>
<td>v</td>
<td>w</td>
<td>x</td>
<td>y</td>
<td>z</td>
</tr>
</tbody>
</table>
<ul>
<li>假设我们的密文为 <strong>hat</strong>，h对应的密文为od，以同样的方式对所有明文加密后得到的结果为 <strong>odccee</strong>。</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/密码学/">密码学</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-用户协同过滤的简单推荐算法" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/03/22/用户协同过滤的简单推荐算法/" class="article-date">
      <time datetime="2016-03-22T03:45:16.000Z" itemprop="datePublished">2016-03-22</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/03/22/用户协同过滤的简单推荐算法/">用户协同过滤的简单推荐算法</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>今天做了一个简单地推荐系统，是利用基于用户的协同过滤进行推荐的，利用的是一个电影评分的数据集，地址在<a href="http://www.grouplens.org/node/73" target="_blank" rel="external">这里</a>，大致的思路为，通过用户对电影的评分，先计算用户之间的评分相似度，为了得到待推荐用户对电影的评分列表，我们利用待推荐用户与其他用户的相似度，去计算待推荐用户对电影可能的评分，然后从中选出Top-K个进行推荐。相似度度量方式可以用上一篇博文中提到的任何一个，这里我利用的是皮尔逊相似度量，对于评分的，皮尔逊度量会更为准确一些。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> sqrt</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sim_pearson</span><span class="params">(prefs,p1,p2)</span>:</span></span><br><span class="line">    <span class="comment">#相似度度量函数</span></span><br><span class="line">    si = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> prefs[p1]:</span><br><span class="line">        <span class="keyword">if</span> item <span class="keyword">in</span> prefs[p2]:</span><br><span class="line">            si[item] = <span class="number">1</span></span><br><span class="line">    n = len(si)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    </span><br><span class="line">    sum1 = sum([prefs[p1][it] <span class="keyword">for</span> it <span class="keyword">in</span> si])</span><br><span class="line">    sum2 = sum([prefs[p2][it] <span class="keyword">for</span> it <span class="keyword">in</span> si])</span><br><span class="line">    </span><br><span class="line">    sum1Sq = sum([pow(prefs[p1][it], <span class="number">2</span>) <span class="keyword">for</span> it <span class="keyword">in</span> si])</span><br><span class="line">    sum2Sq = sum([pow(prefs[p2][it], <span class="number">2</span>) <span class="keyword">for</span> it <span class="keyword">in</span> si])</span><br><span class="line">    </span><br><span class="line">    pSum = sum([prefs[p1][it] * prefs[p2][it] <span class="keyword">for</span> it <span class="keyword">in</span> si])</span><br><span class="line">    </span><br><span class="line">    num = pSum - (sum1 * sum2 / n)</span><br><span class="line">    den = sqrt((sum1Sq - pow(sum1, <span class="number">2</span>) / n)*(sum2Sq - pow(sum2, <span class="number">2</span>) / n))</span><br><span class="line">    <span class="keyword">if</span> den == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">    r = num / den</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getRecommendations</span><span class="params">(prefs,person,similarity=sim_pearson)</span>:</span></span><br><span class="line">    <span class="comment">#推荐函数</span></span><br><span class="line">    totals = &#123;&#125;</span><br><span class="line">    simSums = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> other <span class="keyword">in</span> prefs:</span><br><span class="line">        <span class="comment">#循环遍历其他用户</span></span><br><span class="line">        <span class="keyword">if</span> other == person:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="comment">#计算其他用户与当前用户的相似度</span></span><br><span class="line">        sim = similarity(prefs,person,other)</span><br><span class="line">        <span class="keyword">if</span> sim &lt;= <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="comment">#遍历其他用户看过的影片</span></span><br><span class="line">        <span class="keyword">for</span> item <span class="keyword">in</span> prefs[other]:</span><br><span class="line">	    <span class="comment">#如果当前用户没有看过该影片</span></span><br><span class="line">            <span class="keyword">if</span> item <span class="keyword">not</span> <span class="keyword">in</span> prefs[person] <span class="keyword">or</span> prefs[person][item]==<span class="number">0</span>:</span><br><span class="line">                <span class="comment">#利用相似度计算加权评分</span></span><br><span class="line">                totals.setdefault(item,<span class="number">0</span>)</span><br><span class="line">                totals[item] += prefs[other][item] * sim</span><br><span class="line">                <span class="comment">#计算相似度总和</span></span><br><span class="line">                simSums.setdefault(item,<span class="number">0</span>)</span><br><span class="line">                simSums[item] += sim</span><br><span class="line">                </span><br><span class="line">        <span class="comment">#每个合计评分除以相似度总和，得到平均值</span></span><br><span class="line">        rankings = [(total/simSums[item],item) <span class="keyword">for</span> item, total <span class="keyword">in</span> totals.items()]</span><br><span class="line">        <span class="comment">#排序之后翻转列表</span></span><br><span class="line">        rankings.sort()</span><br><span class="line">        rankings.reverse()</span><br><span class="line">    <span class="keyword">return</span> rankings        </span><br><span class="line">                </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">loadMovieLens</span><span class="params">(path)</span>:</span></span><br><span class="line">    <span class="comment">#构造数据集</span></span><br><span class="line">    movies = &#123;&#125;</span><br><span class="line">    movie_file = open(path+<span class="string">'\\Movies.csv'</span>)</span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> movie_file:</span><br><span class="line">        (id,title) = line.split(<span class="string">','</span>)[<span class="number">0</span>:<span class="number">2</span>]</span><br><span class="line">        movies[id]=title</span><br><span class="line">    </span><br><span class="line">    prefs = &#123;&#125;</span><br><span class="line">    user_file = open(path+<span class="string">'\\ratings.csv'</span>)</span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> user_file:</span><br><span class="line">        (user_id,m_id,rating,ts) = line.split(<span class="string">','</span>)</span><br><span class="line">        prefs.setdefault(user_id,&#123;&#125;)</span><br><span class="line">        prefs[user_id][movies[m_id]] = float(rating)</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">return</span> prefs</span><br><span class="line">    </span><br><span class="line">prefs = loadMovieLens(<span class="string">'F:\\dataset'</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> getRecommendations(prefs,<span class="string">'51'</span>)[<span class="number">0</span>:<span class="number">10</span>]:</span><br><span class="line">    <span class="keyword">print</span> i</span><br></pre></td></tr></table></figure>
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/推荐系统/">推荐系统</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/用户协同过滤/">用户协同过滤</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-计算相似度评价值的几种方法" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/03/16/计算相似度评价值的几种方法/" class="article-date">
      <time datetime="2016-03-16T15:55:21.000Z" itemprop="datePublished">2016-03-16</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/03/16/计算相似度评价值的几种方法/">计算相似度评价值的几种方法</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>今天介绍几种相似度的计算方法，参考《集体智慧编程》$P_{7}$ ~ $P_{14}$</p>
<p>首先给出测试数据集，一个关于影评的打分集合，包括评价者的名字，及电影评分，评分区间是（0,5），来源于《集体智慧编程》$P_8$：</p>
<pre><code>critics = {&apos;Lisa Rose&apos;: {&apos;Lady in the Water&apos;:2.5,&apos;Snakes on a Plane&apos;:3.5,
        &apos;Just My Luck&apos;:3.0,&apos;Superman Returns&apos;:3.5,&apos;You, Me and Dupree&apos;:2.5,
        &apos;The Night Listener&apos;:3.0},
        &apos;Gene Seymour&apos;:{&apos;Lady in the Water&apos;:3.0,&apos;Snakes on a Plane&apos;:3.5,
        &apos;Just My Luck&apos;:1.5,&apos;Superman Returns&apos;:5.0,&apos;You, Me and Dupree&apos;:3.5,
        &apos;The Night Listener&apos;:3.0},
        &apos;Michael Phillips&apos;:{&apos;Lady in the water&apos;:2.5,&apos;Snakes on a Plane&apos;:3.0,
        &apos;Superman Returns&apos;:3.5,&apos;The Night Listener&apos;:4.0},
        &apos;Claudia Puig&apos;:{&apos;Snakes on a Plane&apos;:3.5,&apos;The Night Listener&apos;:4.5,
        &apos;Just My Luck&apos;:3.0,&apos;Superman Returns&apos;:4.0,&apos;You, Me and Dupree&apos;:2.5},
        &apos;Mick LaSalle&apos;:{&apos;Lady in the Water&apos;:3.0,&apos;Snakes on a Plane&apos;:4.0,
        &apos;Just My Luck&apos;:2.0,&apos;Superman Returns&apos;:3.0,&apos;The Night Listener&apos;:3.0,
        &apos;You, Me and Dupree&apos;:2.0},
        &apos;Jack Matthews&apos;:{&apos;Lady in the Water&apos;:3.0,&apos;Snakes on a Plane&apos;:4.0,
        &apos;The Night Listener&apos;:3.0,&apos;Superman Returns&apos;:5.0,&apos;You, Me and Dupree&apos;:3.5},
        &apos;Toby&apos;:{&apos;Snakes on a Plane&apos;:4.5,&apos;You, Me and Dupree&apos;:1.0,&apos;Superman Returns&apos;:4.0}}
</code></pre><p>下面介绍相似度度量：</p>
<ol>
<li>欧几里得距离（Euclidean metric）：<br>欧几里得距离来源于欧氏空间中的任意两点距离，对于给定的两个$N$维向量 $a(x_{11},x_{12}, \cdots,x_{1k}),b(x_{21},x_{22},\cdots,x_{2k})$，有如下计算公式：<br>$$d = \sqrt{\sum_{k=1}^N(x_{1k}-x_{2k})^2}$$<br>向量表示方法：<br>$$d = \sqrt{(a-b){(a-b)^T}}$$<br>python代码：</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sim_distance</span><span class="params">(prefs,person1,person2)</span>:</span></span><br><span class="line">    si = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> prefs[person1]:</span><br><span class="line">        <span class="keyword">if</span> item <span class="keyword">in</span> prefs[person2]:</span><br><span class="line">            si[item] = <span class="number">1</span></span><br><span class="line">            </span><br><span class="line">    <span class="keyword">if</span> len(si) == <span class="number">0</span>: </span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    sum_of_squares = sum([pow(prefs[person1][item]-prefs[person2][item],<span class="number">2</span>)</span><br><span class="line">                    <span class="keyword">for</span> item <span class="keyword">in</span> prefs[person1] <span class="keyword">if</span> item <span class="keyword">in</span> prefs[person2]])</span><br><span class="line">                        </span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>/(<span class="number">1</span>+sqrt(sum_of_squares))</span><br></pre></td></tr></table></figure>    
<ol>
<li>皮尔逊相关度（Pearson correlation coefficient）<br>样本的简单相关系数一般用 $r$ 表示，其中 $n$ 为样本量， 分别为两个变量的观测值和均值。$r$ 描述的是两个变量间线性相关强弱的程度。$r$ 的取值在-1与+1之间，若 $r&gt;0$，表明两个变量是正相关，即一个变量的值越大，另一个变量的值也会越大；若 $ r&lt;0$ ，表明两个变量是负相关，即一个变量的值越大另一个变量的值反而会越小。对于给定的两个$N$维向量 $a(x_{11},x_{12}, \cdots,x_{1k}),b(x_{21},x_{22},\cdots,x_{2k})$，有如下计算公式：<br>$$\frac{\sum ab^T-\frac{\sum a\sum b}{N}}{\sqrt{(\sum a^2-\frac{\sum a^2}{N})\times(\sum b^2-\frac{\sum b^2}{N})}}$$<br>python代码：</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sim_pearson</span><span class="params">(prefs,p1,p2)</span>:</span></span><br><span class="line">    si = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> prefs[p1]:</span><br><span class="line">        <span class="keyword">if</span> item <span class="keyword">in</span> prefs[p2]:</span><br><span class="line">            si[item] = <span class="number">1</span></span><br><span class="line">    n = len(si)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    </span><br><span class="line">    sum1 = sum([prefs[p1][it] <span class="keyword">for</span> it <span class="keyword">in</span> si])</span><br><span class="line">    sum2 = sum([prefs[p2][it] <span class="keyword">for</span> it <span class="keyword">in</span> si])</span><br><span class="line">    </span><br><span class="line">    sum1Sq = sum([pow(prefs[p1][it], <span class="number">2</span>) <span class="keyword">for</span> it <span class="keyword">in</span> si])</span><br><span class="line">    sum2Sq = sum([pow(prefs[p2][it], <span class="number">2</span>) <span class="keyword">for</span> it <span class="keyword">in</span> si])</span><br><span class="line">    </span><br><span class="line">    pSum = sum([prefs[p1][it] * prefs[p2][it] <span class="keyword">for</span> it <span class="keyword">in</span> si])</span><br><span class="line">    </span><br><span class="line">    num = pSum - (sum1 * sum2 / n)</span><br><span class="line">    den = sqrt((sum1Sq - pow(sum1, <span class="number">2</span>) / n)*(sum2Sq - pow(sum2, <span class="number">2</span>) / n))</span><br><span class="line">    <span class="keyword">if</span> den == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">    r = num / den</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> r</span><br></pre></td></tr></table></figure>
<ol>
<li>杰卡德相似系数(Jaccard similarity coefficient)<br>这部分代码书中没有给出，是自己实现的，广义Jaccard相似度，元素的取值可以是实数。又称为Tanimoto系数，用EJ来表示，对于给定的两个$N$维向量 $a(x_{11},x_{12}, \cdots,x_{1k}),b(x_{21},x_{22},\cdots,x_{2k})$，有如下计算公式：<br>$$EJ = \frac{ab^T}{|a|+|b|-ab^T}$$<br>其中$|a|,|b|$分别代表 $ \vec{a},\vec{b}$的模。<br>python代码实现：</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sim_jaccard</span><span class="params">(prefs,p1,p2)</span>:</span></span><br><span class="line">    si = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> prefs[p1]:</span><br><span class="line">        <span class="keyword">if</span> item <span class="keyword">in</span> prefs[p2]:</span><br><span class="line">            si[item] = <span class="number">1</span></span><br><span class="line">            </span><br><span class="line">    n = len(si)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    </span><br><span class="line">    times = sum([prefs[p1][item]*prefs[p2][item] <span class="keyword">for</span> item <span class="keyword">in</span> si])</span><br><span class="line">    ma = sum([pow(prefs[p1][item],<span class="number">2</span>) <span class="keyword">for</span> item <span class="keyword">in</span> si])</span><br><span class="line">    mb = sum([pow(prefs[p2][item],<span class="number">2</span>) <span class="keyword">for</span> item <span class="keyword">in</span> si])</span><br><span class="line">    den = times/(ma+mb-times)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> den == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    </span><br><span class="line">    r = <span class="number">1</span> / (<span class="number">1</span> + den)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> r</span><br></pre></td></tr></table></figure>
<ol>
<li>曼哈顿距离(Manhattan Distance)<br>想象你在曼哈顿要从一个十字路口开车到另外一个十字路口，驾驶距离是两点间的直线距离吗？显然不是，除非你能穿越大楼。实际驾驶距离就是这个“曼哈顿距离”。而这也是曼哈顿距离名称的来源， 曼哈顿距离也称为城市街区距离(City Block distance)，对于给定的两个$N$维向量 $a(x_{11},x_{12}, \cdots,x_{1k}),b(x_{21},x_{22},\cdots,x_{2k})$，有如下计算公式：<br>$$d = \sum_{k=1}^N\sqrt{x_{1k}-x_{2k}}$$<br>python代码实现</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sim_manhattan</span><span class="params">(prefs,p1,p2)</span>:</span></span><br><span class="line"> si = &#123;&#125;</span><br><span class="line"> <span class="keyword">for</span> item <span class="keyword">in</span> prefs[p1]:</span><br><span class="line">     <span class="keyword">if</span> item <span class="keyword">in</span> prefs[p2]:</span><br><span class="line">         si[item] = <span class="number">1</span></span><br><span class="line">         </span><br><span class="line"> n = len(si)</span><br><span class="line"> </span><br><span class="line"> <span class="keyword">if</span> n == <span class="number">0</span>:</span><br><span class="line">     <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">     </span><br><span class="line"> den = sum([abs(prefs[p1][item]-prefs[p2][item]) <span class="keyword">for</span> item <span class="keyword">in</span> si])</span><br><span class="line"> </span><br><span class="line"> r = <span class="number">1</span>/(<span class="number">1</span>+den)</span><br><span class="line"> </span><br><span class="line"> <span class="keyword">return</span> r</span><br></pre></td></tr></table></figure>
<hr>
<p>利用上面四种方法对数据集进行操作</p>
<pre><code>print sim_distance(critics,&apos;Jack Matthews&apos;,&apos;Gene Seymour&apos;)
print sim_pearson(critics,&apos;Jack Matthews&apos;,&apos;Gene Seymour&apos;)
print sim_manhattan(critics,&apos;Jack Matthews&apos;,&apos;Gene Seymour&apos;)
print sim_jaccard(critics,&apos;Jack Matthews&apos;,&apos;Gene Seymour&apos;)
</code></pre><p>结果如下</p>
<blockquote>
<p>0.666666666667<br>0.963795681876<br>0.666666666667<br>0.500900900901</p>
</blockquote>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/推荐系统/">推荐系统</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/相似度度量/">相似度度量</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-机器学习0" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/03/14/机器学习0/" class="article-date">
      <time datetime="2016-03-14T05:46:33.000Z" itemprop="datePublished">2016-03-14</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/03/14/机器学习0/">机器学习0</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>本系列文章记录跟随N.G.Andrew学习机器学习的过程。</p>
<ol>
<li>什么是机器学习<br>较早的有关于机器学习的定义来自于Arthur Samuel，他编写了一个下棋软件，然后让计算机和计算机进行对局，最终他发现，计算机在经过大量对局之后的棋艺已经超越了他自己。所以，他给出了如下的定义:<blockquote>
<p>Field of study that gives computers the ability to learn without being explicity programmed.</p>
</blockquote>
</li>
</ol>
<p>更符合当今发展的定义由Tom Mitchell给出：</p>
<blockquote>
<p>A computer program is said to learn from experience E with respect to some task T and som performance measure P of its performance on T as measured by P, improves with experience E.</p>
</blockquote>
<p>不仅很准确，而且很押韵。<br>课程主要涉及到4各部分</p>
<ul>
<li>监督学习（supervised learning)<br>监督学习是指训练集存在标准输入和标准输出，例如，给定一个训练集，包含了一组关于乳腺癌的数据，对于标准输入来说，包括了肿瘤的大小，患者的年龄等，对于标准输出，是否为恶性肿瘤，这就是典型的监督学习，对于给定的数据，我们知道每一组输入对应的输出是什么。监督学习包括了回归问题（连续的）和分类问题（离散的）。</li>
<li>学习理论（learning theory)</li>
<li>非监督学习（unsupervised learning)<br>非监督学习的特点是，训练集只有标准输入，但是不知道标准输出，比较典型的有聚类问题。</li>
<li>增强学习（reinforcement learning)</li>
</ul>
<ol>
<li>监督学习<br>首先给出接下来会用到的符号定义：<br>m : the number of training examples 训练样本数<br>x : input variables (features) 输入变量，也叫特性<br>y : output variables (target variable) 输出变量，也叫目标变量<br>(x, y) : one train example 一个训练样本<br>$(x^{(i)}, y^{(i)})$ : $i^{th}$ training example 第i个训练样本<br>训练的大致流程如下：<br><img src="http://7xrav5.com1.z0.glb.clouddn.com/2016031401.png" alt="enter image description here | center | 0"><br>可以看出，我们的目的就是要找到函数 $h(x)$ 来帮助我们预测。<br>我们假设$h(x)$是一次函数，这种情形相对简单。将一次函数的系数设为$\theta$。考虑这样一个问题，我们现在有一组房价的数据，包括了两个自变量，房屋面积和使用年限，一个因变量，房屋成交价，我们需要预测，基于这样一组的训练数据，我的房子能卖多少钱。对于这个问题，估价函数就是<br>$$h(x) = h_\theta(x)=\theta_0+\theta_1x_1+\theta_2x_2$$<br>我们使$x_0=1$，简化公式<br>$$h(x) = h_\theta(x)=h_\theta(x)=\theta_0+\theta_1x_1+\theta_2x_2=\theta_0x_0+\theta_1x_1+\theta_2x_2=\sum\limits_{i=0}^n\theta_ix_i=\theta^Tx$$<br>我们的目的是找到一个估价函数，使得其与我们目前的各个点最为接近，也就是说我们的目标是<br>$$min\frac{1}{2}\sum\limits_{i=1}^m(h_\theta(x^{(i)})-y^{(i)})^2$$<br>这里乘上$\frac{1}{2}$是为了在接下来的步骤中简化运算，因为我们的目的是求得满足最小值的$h(x)$，所以，这个chulbuhui对结果造成影响。<br>$$J(\theta)=\frac{1}{2}\sum\limits_{i=1}^m(h_\theta(x^{(i)})-y^{(i)})^2$$<br>现在我们的目的就是找到使得$J(\theta)$最小的向量$\theta$。这里，我们要用到一些搜索算法，我们以某一个$\theta（\theta=\vec{0})$值开始，持续改变$\theta$的值来减小$J(\theta)$。<br>这里介绍梯度下降法（Gradient descent )，该方法的特点是一定会结束，但是结果有时候会依赖初值，导致局部最优。<br>为了求得符合条件的$\theta$，反复执行如下算法。<br>$$\theta_i := \theta_i-\alpha\frac{\partial}{\partial\theta_i}J(\theta)$$<br>其中“:=”代表这是一条程序中的赋值语句。<br>$$\frac{\partial}{\partial\theta_i}J(\theta)=\frac{\partial}{\partial\theta_i}\frac{1}{2}\sum\limits_{j=1}^m(h_\theta(x^{(j)})-y^{(j)})^2=\sum\limits_{j=1}^m(h_\theta(x^{(j)})-y^{(j)})\frac{\partial}{\partial\theta_i}(h_\theta(x^{(j)})-y^{(j)})$$<br>$$\sum\limits_{j=1}^m\frac{\partial}{\partial\theta_i}(h_\theta(x^{(j)})-y^{(j)})=\sum\limits_{j=1}^m\frac{\partial}{\partial\theta_i}h_\theta(x^{(j)})=x_i$$<br>$$\theta_i :=\theta_i-\alpha(h_\theta(x)-y)x_i$$<br>其中$\alpha$是算法参数，一般是人工设定的，取值太小会导致收敛太慢，太大的话，有可能越过收敛值。<br>上面的公式也等价于这种形式：<br>$$\theta_i := \theta_i-\alpha\sum_{j=1}^m(h_\theta(x^{(j)})-y^{(j)})x^{(j)}_i$$<br>这种方法叫做批梯度下降法（batch gradient descent)，优点是利用了全部的样本作为训练数据，精度肯定要高一些，但是缺点也很明显，每次都要遍历所有的样本集，导致了运行时间太慢，于是，有了一种改进的算法，叫做随机梯度下降法。<br>$$For \  j\  in\  range(1,m)\quad\theta := \theta_i-\alpha(h_\theta(x^{(j)})-y^{(j)})x^{(j)}_i$$<br>这种方法只需要遍历一遍样本集，就可以得出结果，但是需要注意的是，这种方法有可能在最小值附近徘徊，而达不到最小值点，但是，总体趋势仍然是接近的。<br>通过梯度下降法，我们就能得到一组解了，但是这是通过遍历逼近的方式，下面讲述一种能够得到解析解的方法。</li>
</ol>
<hr>
<p>对于有$n$个自变量$\theta$的函数$J$<br>$$\nabla_\theta J=\begin{bmatrix} \frac{\partial J}{\partial\theta_0}  \\ \vdots\\ \frac{\partial J}{\partial\theta_n} \end{bmatrix}$$<br>$$\theta := \theta-\alpha\nabla_\theta J$$<br>$$f:R^{m\times n}\longrightarrow R$$<br>$$ f(A)\quad A\in R^{m\times n}$$<br>$$\nabla_\theta=\begin{bmatrix} \frac{\partial f}{\partial A_{11}} &amp; \cdots&amp; \frac{\partial f}{\partial A_{1m}} \\ \vdots&amp;\ddots &amp;\vdots\\ \frac{\partial f}{\partial A_{m1}} &amp; \cdots&amp;\frac{\partial f}{\partial A_{mn}} \end{bmatrix}$$<br>下面不加证明的给出几个定理：<br>$$If:\ A \in R^{m\times n}\quad then:\ trA = \sum_{i=1}^n A_{ii}$$<br>$$trAB = trBA \quad trABC = trCAB=trBCA$$<br>$$If:\ f(A) = trAB\quad then:\ \nabla_AtrAB=B^T$$<br>$$trA = trA^T$$<br>$$If:\ a\in R\quad then:\ tr\ a = a$$<br>$$\nabla_AtrABA^TC=CAB+C^TAB$$<br>$$x\theta=\begin{bmatrix}(x^{(1)})^T\\(x^{(2)})^T\\\ \vdots\\(x^{(m)})^T\end{bmatrix}\theta=\begin{bmatrix}(x^{(1)})^T\theta\\(x^{(2)})^T\theta\\\ \vdots\\(x^{(m)})^T\theta\end{bmatrix}=\begin{bmatrix}h_\theta(x^{(1)})\\\ h_\theta(x^{(2)})\\\ \vdots\\h_\theta(x^{(m)})\end{bmatrix}$$<br>$$\vec{y} = \begin{bmatrix}(y^{(1)})\\(y^{(2)})\\\ \vdots\\(y^{(m)})\end{bmatrix}$$<br>$$x\theta-y=\begin{bmatrix}h_\theta(x^{(1)})-y^{(1)}\\h_\theta(x^{(2)})-y^{(2)}\\\ \vdots\\h_\theta(x^{(m)})-y^{(m)}\end{bmatrix}$$<br>$$\frac{1}{2}(x\theta-y)^T(x\theta-y)=\frac{1}{2}\sum_{i=1}^m(h(x^{(i)})-y)^2=J(\theta)$$<br>因为要求最小值点，所以梯度肯定为0。<br>$$\nabla J(\theta)=\vec{0}$$<br>$$\nabla_\theta\frac{1}{2}(x\theta-y)^T(x\theta-y)=\frac{1}{2}\nabla_\theta tr(\theta^Tx^Tx\theta-\theta^Tx^Ty-y^Tx\theta+y^Ty)$$<br>$$=\frac{1}{2}\nabla_\theta tr\ \theta\theta^Tx^Tx-\nabla_\theta tr\ y^Tx\theta-\nabla_\theta tr\ y^Tx\theta$$<br>对于$\nabla_\theta tr\ \theta\theta^Tx^Tx$，乘上单位矩阵$I$整理，$\nabla_\theta tr\ \theta I\theta^Tx^Tx$，将$\theta$看做$A$，$I$看做$B$，$\theta^T$就是$A^T$，然后把$x^Tx$作为$C$，则：<br>$$\nabla_\theta tr\ \theta\theta^Tx^Tx=x^Tx\theta I+x^Tx\theta I$$<br>$$\nabla_\theta tr\ y^Tx\theta=x^Ty$$<br>把求得的结果带入<br>$$\nabla J(\theta)=\frac{1}{2}(x^Tx\theta I+x^Tx\theta I-x^Ty-x^Ty)$$<br>$$x^Tx\theta-x^Ty=\vec{0}$$<br>$$\theta = (x^Tx)^{-1}x^Ty$$</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/机器学习/">机器学习</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/梯度下降法/">梯度下降法</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/监督学习/">监督学习</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-社交网站的数据挖掘与分析（四）" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/03/08/社交网站的数据挖掘与分析（四）/" class="article-date">
      <time datetime="2016-03-08T14:52:43.000Z" itemprop="datePublished">2016-03-08</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/03/08/社交网站的数据挖掘与分析（四）/">社交网站的数据挖掘与分析（四）</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>上一章节对微博做了简单的挖掘动作，主要是练习了API的使用，和几个工具包的操作。这一章，我们会对Facebook进行挖掘，来分析粉丝页面，查看好友关系。</p>
<h2 id="第二章-挖掘Facebook"><a href="#第二章-挖掘Facebook" class="headerlink" title="第二章 挖掘Facebook"></a>第二章 挖掘Facebook</h2><p>这一章，我们将利用社交图谱API进军到Facebook平台，来探索其中的巨大可能性。有一点很有意思，尽管Facebook一直自称为一种社交图谱，但是它也在转型为兴趣图谱，因为他的页面和点赞的特性中，维护了人与其感兴趣事物直接的关系。<br>这一张涉及到的知识有：</p>
<ul>
<li>Facebook的社交图谱API以及如何发起API请求。</li>
<li>开放图协议（Open Graph protocol）以及它与Facebook社交图谱（Social Graph）的关系。</li>
<li>从Facebook页面和Facebook好友中分析“赞”。</li>
<li>用来分析社交图谱的团分析（clique analysis）等技术。</li>
<li>使用D3 JavaScript库对社交图谱进行可视化</li>
</ul>
<p>首先让我们对Facebook的API进行一下探索。<br>Facebook平台是一个成熟的，健壮的并且文档详尽的门户网站，通过它我们可以接触到有史以来积累的最全面并且经系统化组织的信息存储。在Twitter上的好友模型是非对称的，而Facebook的好友模型是对称的，并且需要用户之间相互同意才能查看对方的交互和活动。此外，Twitter中用户间所有的交互，除了私人消息之外，几乎都是公共状态，而Facebook允许更多细粒度的隐私控制。<br>Facebook的社交图谱是一个大规模图数据结构，包含了社会交互并且包含了节点和节点之间的连接。图谱API提供了与社交图谱交互的主要方法，熟悉API的方法自然是用一下图谱API的管理工具（Graph API Explorer）。所谓的图谱API管理工具除了能够载入事先保存的访问令牌和调试它们外，和其他的应用程序一样，都是调用了开发者API。<br><strong>访问令牌</strong></p>
<blockquote>
<p>出现在应用程序中的访问令牌是一个由登录用户授权的OAuth令牌，他和你的应用程序访问数据时所需要的OAuth令牌是同一个。在这一章，我们会一直使用这个访问令牌。</p>
</blockquote>
<p><strong>节点ID</strong></p>
<blockquote>
<p>查询的基础是ID（标示）为“644382747”的节点，它对应着名为“Matthew A.Russell”的人，他作为当前登录用户是被预先加载的。节点的“id”和“name”值被称为字段。以后就会看到查询的基础可以是其他的任何节点。这样对图进行遍历以及查询其他节点就会非常自然。</p>
</blockquote>
<p><strong>关系约束</strong></p>
<blockquote>
<p>你可以使用“好友”这个关系对原始查询进行修改，作为结果，我们会得到一个叫做“自我图”（ego graph）的图，因为他有一个执行者作为焦点或逻辑中心，并且连接到周围的其它节点上。</p>
</blockquote>
<p><strong>“赞”约束</strong></p>
<blockquote>
<p>我们可以对每个好友添加“赞”约束从而对原始查询进行更深入的修改，然而在获取“赞”关系之前，必须通过更新访问令牌然后统一对图谱API管理工具程序进行授权从而使其能够访问好友的“赞”信息。</p>
</blockquote>
<p>想要使用这个图API管理工具，先看一下Facebook的<a href="https://developers.facebook.com/docs/graph-api" target="_blank" rel="external">Graph API文档</a>，这是一个图形化的API，因为没什么大用，我就不展示操作了，文档写的还是很清楚的，从获取授权到查询都能通过图形化界面进行操作。<br>下面我们利用requests包进行一下HTTP请求，来模拟该过程。</p>
<pre><code>import json
def request_over_http(access_token, url, fields):

  # import requests
  import requests

  # Build the urls
  urls = &apos;%s?fields=%s&amp;access_token=%s&apos; % (url, fields, access_token)
  print &apos;urls: &apos;, urls

  # Get the content
  content = requests.get(urls, verify=False).json()

  # return
  return content

url = &apos;https://graph.facebook.com/146581042399042&apos;
# Get 10 likes for 10 friends
fields = &apos;id,name,friends.limit(10).fields(likes.limit(10))&apos;
ACCESS_TOKEN = &apos;181111875601409|CTDX6wKFVFSXKMZQvrUEwco7tqI&apos;
content = request_over_http(ACCESS_TOKEN, url, fields)
print json.dumps(content, indent=1)
</code></pre><p>代码和书上的一样，不知道哪里出错了，返回的信息时error，说不能用GET请求，具体原因还在查找。</p>
<pre><code>{
 &quot;error&quot;: {
  &quot;message&quot;: &quot;Unsupported get request. Please read the Graph API documentation at https://developers.facebook.com/docs/graph-api&quot;, 
  &quot;code&quot;: 100, 
  &quot;type&quot;: &quot;GraphMethodException&quot;, 
  &quot;fbtrace_id&quot;: &quot;DePsXrXvIf5&quot;
 }
}
</code></pre>
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/">python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/数据挖掘/">数据挖掘</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/社交网络分析/">社交网络分析</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-（译）基于多源数据的用户兴趣模型" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/03/06/（译）基于多源数据的用户兴趣模型/" class="article-date">
      <time datetime="2016-03-06T08:17:26.000Z" itemprop="datePublished">2016-03-06</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/03/06/（译）基于多源数据的用户兴趣模型/">（译）基于多源数据的用户兴趣模型</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="1-Introduction"><a href="#1-Introduction" class="headerlink" title="1.    Introduction"></a>1.    Introduction</h1><p>&#160; &#160; &#160; &#160;用户兴趣在推动发展的个性化的Web服务和以用户为中心的应用程序表现的越来越重要。现有的研究着重在于分析用户兴趣关注浏览行为(如时间)和浏览内容(比如浏览网页)[1,2]。这些方法只能得到用户以前的兴趣。与此同时,获得用户的兴趣是局限于网页的浏览内容。获取用户兴趣的另一个方向是要求用户直接输入或提供反馈(如评估资源,或添加标签)[3],但有时用户没有积极的态度参加这些活动。此外, 因为兴趣通常是分布在不同的环境中，许多用户无法提供一个关于他兴趣的相对完整的列表。<br>&#160; &#160; &#160; &#160;在本文中,我们将注意力集中于直接从用户生成的内容中发现用户兴趣。用户兴趣可能会分布在不同的，来源分散的网络平台(如微博、社交网站(SNS)、主页,等等)。因此,我们建议整合这些不同来源的用户兴趣。我们由此产生了信息融合的思想和方法并以此来从这些异构的信息资源中获得用户的兴趣。考虑到这些不同来源的特点,我们提出一种加权融合多源的用户兴趣建模方法。<br>&#160; &#160; &#160; &#160;用户兴趣分为显性兴趣和隐性兴趣[4]。显性兴趣被定义通过某些方法由用户显式声明的兴趣。隐性兴趣由显性兴趣推断而来[5]。文本挖掘是一个常用的方法来推断用户的兴趣, 然而,这种方法很难推断出准确的兴趣之间的层次关系。为了解决这个问题,在本文中,我们利用与领域本体的语义推理, 从用户的显式兴趣推断出隐性的兴趣。用户兴趣特征域概念和内隐推理获得的兴趣与超类和子类关系。使用这种方法，可以获得用户的显性兴趣。通过使用这两种方法,可以得到相对完整有关特定用户的兴趣的理解,并为他们生产更多的个性化服务。</p>
<h1 id="2-多源个人信息的融合框架及用户兴趣建模"><a href="#2-多源个人信息的融合框架及用户兴趣建模" class="headerlink" title="2.    多源个人信息的融合框架及用户兴趣建模"></a>2.    多源个人信息的融合框架及用户兴趣建模</h1><h2 id="2-1-多源的用户兴趣建模的工作流"><a href="#2-1-多源的用户兴趣建模的工作流" class="headerlink" title="2.1    多源的用户兴趣建模的工作流"></a>2.1    多源的用户兴趣建模的工作流</h2><p>&#160; &#160; &#160; &#160;在网络时代，用户兴趣不同的网络平台。每个用户可能拥有几个账户,而每一个账号包含一些独特的用户利益相关数据，为了让用户兴趣建模过程更准确和完整,需要设计一个工作流，以及需要考虑几个主要步骤。这里我们简要地讨论每一个步骤。<br>&#160; &#160; &#160; &#160;步骤1：信息来源选择和用户数据提取。在这个步骤中, 需要选择与用户兴趣相关的不同来源的信息。选择资源后,在用户授权的情况下,提取与用户兴趣发现相关的数据。<br>&#160; &#160; &#160; &#160;步骤2：单源用户兴趣的发现。在这个步骤中,对每个单源信息进行关键词提取和分析。不同的关键词分析方法可以应用,如累积累加兴趣数据（cumulative interests statistics）,保留兴趣（retained interests）,兴趣的持续时间（interests durations）等[6]。<br>&#160; &#160; &#160; &#160;步骤3：兴趣多源融合。在这一步中,从步骤2中发掘的兴趣以信息融合策略集成在一起，产生一个指定用户的相对完整的兴趣排名列表。<br>&#160; &#160; &#160; &#160;步骤4：用户兴趣和本体描述。在这个步骤中,用户兴趣需要用知识表示语言（knowledge representation languages）来描述，用户的兴趣本体需要依据这个描述来产生。<br>&#160; &#160; &#160; &#160;步骤5：对现有兴趣进行语义推理（Semantic reasoning）在这一步中,推理技术用来发掘基于现有兴趣的隐性兴趣。通过这种方式,能够理解用户兴趣上下文（in contexts）和隐性兴趣，也有助于完善用户兴趣本体。<br><img src="http://7xrav5.com1.z0.glb.clouddn.com/2016030601.png" alt="enter image description here"></p>
<h2 id="2-2-多源的用户兴趣建模的信息提取"><a href="#2-2-多源的用户兴趣建模的信息提取" class="headerlink" title="2.2    多源的用户兴趣建模的信息提取"></a>2.2    多源的用户兴趣建模的信息提取</h2><p>&#160; &#160; &#160; &#160;正如上面提到的,我们计划将不同的来源的用户的个人信息整合。在当前的网络环境,我们选择从各种社交网站 (SNS),主页,专业网站等获得用户信息。不同类型的SNS记录着用户的不同信息。例如,Twitter用140个字符记录的实时状态和最近感兴趣的事件,而Facebook存储了相对更长一点的文本，点赞和分享资源。而主页和专业网站包含用户的教育信息,工作经历,公开的言论和长期兴趣(例如Linked-in在一起),等等。<br>&#160; &#160; &#160; &#160;因此,我们选择Twitter,Facebook,和主页作为多源个人信息提取渠道。这些选择最大程度的覆盖了能公开获取的个人信息。开放api的Web平台确保相关用户数据的可访问性。(Twitter,Facebook,和Linked-in在提供自己的API下载用户相关数据,而主页信息可以通过Google Web API爬取)。我们应该强调我们选择的信息源可以根据特定用户的实际情况调整。例如,如果用户可能没有Twitter帐户,但有一个新浪微博(类似Twitter的中国微博)账户,那么我们还应该添加这个网站作为一个信息来源。<br>&#160; &#160; &#160; &#160;一般来说,用户兴趣可以用关键词代表。因此,关键字提取用户兴趣建模至关重要。一个兴趣可能需要用单词型术语（single-word term）或者短语型术语（multi-word term）来代表。如果我们只考虑单词型术语，词与词之间的空白可以用来作为兴趣的分割。如果我们考虑短语型术语,我们需要更复杂的术语抽取算法和工具。在我们的研究中,我们使用Alchemy API关键词提取1。</p>
<h2 id="2-3-动态和静态的用户兴趣"><a href="#2-3-动态和静态的用户兴趣" class="headerlink" title="2.3    动态和静态的用户兴趣"></a>2.3    动态和静态的用户兴趣</h2><p>&#160; &#160; &#160; &#160;多个来源的用户相关信息大致可以分为两种类型,动态和静态信息。动态信息指具有创建或更新时间的信息(如推特、Facebook、Linked-in相关信息)。而静态信息是指那些没有时间标记(如专业兴趣、信仰、和教育信息)。这两种不同类型的信息应该分开考虑,因为我们可以提取不同类型的兴趣。动态信息包含动态兴趣与标记时间槽,和静态信息包含静态兴趣。在大多数情况下,静态兴趣可以视为长期兴趣,否则,用户不会在静态的资源主页进行声明。<br>&#160; &#160; &#160; &#160;动态和静态兴趣在特定的应用中有不同的用法。尽管他们有时会出现重叠(如“语义网”可以找到作者弗兰克·范·Harmelen的Twitter上找到，也会在他的主页上找到)，但是他们应该分别对待。在我们的研究中,对动态兴趣进行了分析统计并用他们的值进行了排列,而静态兴趣被单独组织在一个兴趣集合中,他们将不会与动态兴趣排在一起。在个性化的Web应用程序中,在静态兴趣中，如关系网（aﬃliation）和位置，作为了指定用户的额外上下文信息（additional contextual information），而动态兴趣代表的隐性兴趣对用户的行为产生了约束。</p>
<h1 id="3-User-Interests-Fusion-Strategies"><a href="#3-User-Interests-Fusion-Strategies" class="headerlink" title="3.    User Interests Fusion Strategies"></a>3.    User Interests Fusion Strategies</h1><h2 id="3-1-基于决策级融合（Decision-Level-Fusion）的用户兴趣建模"><a href="#3-1-基于决策级融合（Decision-Level-Fusion）的用户兴趣建模" class="headerlink" title="3.1 基于决策级融合（Decision Level Fusion）的用户兴趣建模"></a>3.1 基于决策级融合（Decision Level Fusion）的用户兴趣建模</h2><p>&#160; &#160; &#160; &#160;虽然微博、社交网站、专业网站,和主页是不同类型的基于web的系统,他们可以被认为是各种传感器,从不同的角度提供用户相关数据。因此,基于多个web的系统的用户兴趣集成可以被认为是多传感器信息融合。<br>&#160; &#160; &#160; &#160;基于信息融合理论,融合策略可以分为三种类型,即数据级融合、特征级融合和决策级融合[7]。Twitter、Facebook和Linked-in等可以被认为是不同类型的传感器。从它们从不同方面捕获用户兴趣,数据级融合可能不合适。在这篇文章中,我们考虑用决策级融合用户兴趣,因为我们想要比较产生于不同的单源数据的用户兴趣和由不同的融合策略而产生的兴趣集之间的区别。在决策级融合的用户兴趣过程中,一些兴趣排名列表的生成是基于每个单独的来源,融合过程执行基于一种特定的融合策略。</p>
<h2 id="3-2-基于加权融合法的多源用户兴趣模型"><a href="#3-2-基于加权融合法的多源用户兴趣模型" class="headerlink" title="3.2 基于加权融合法的多源用户兴趣模型"></a>3.2 基于加权融合法的多源用户兴趣模型</h2><p>&#160; &#160; &#160; &#160;兴趣排名列表的产生可以基于不同的兴趣排名策略[6]. 在本文中,我们选择兴趣累积函数(cumulative interest function)来给兴趣排名和显示用户的偏好。在兴趣累积函数中，每一个兴趣被分配了一个值，这个值由他们在一定时间槽内的单词频率表示[6]。在关键词提取的步骤和以兴趣累计值排名后，我们得到了一个根据不同源数据的兴趣排名列表。<br>&#160; &#160; &#160; &#160;为了得到更完整且整体的用户兴趣理解，我们需要从多个数据源整合这些兴趣列表。在本文中,我们提出一种加权融合多源的用户兴趣建模方法。融合方程可以表示如下:<br>I(i)”=” ∑_(n=1)^m▒〖w_n×〖I(i)〗_n 〗<br>&#160; &#160; &#160; &#160;i 代表了一个特定的兴趣，〖I(i)〗_n代表了从第n个单源的第i个兴趣值。w_n代表了第n个单源的权重值，可根据不同的特定策略来确定。〖I(i)〗_n代表了在我们融合之后得到的用户兴趣。这里我们给出两种具体的策略，一种是平均融合策略，一种是时间敏感融合策略（time-sensitive fusion strategy）。在平均融合中， w_n=1⁄n ，它代表着每个数据源被分配了相同的权重。在时间敏感融合中，w_n被下列等式决定：<br>w_1:w_2:…:w_n=f_1:f_2:…f_n<br>w_1+w_2+⋯+w_n=1<br>&#160; &#160; &#160; &#160;f_n是第n个信息源更新的频率（特定用户每天发布信息的平均数量），等式表示了融合权重与信息更新频率呈正相关。然而，大多数的个人主页不会维护更新时间信息，所以，试验中，我们只考虑把从Twitter，Facebook，以及Linked-in中提取的兴趣进行融合。</p>
<h2 id="3-3-实验结果与分析"><a href="#3-3-实验结果与分析" class="headerlink" title="3.3 实验结果与分析"></a>3.3 实验结果与分析</h2><p>&#160; &#160; &#160; &#160;在这里我们选择“Frank Van Harmelen”(一个人工智能研究员)为例,比较研究不同的融合策略，对时间敏感的融合,经计算，我们得到他信息更新频率为的Twitter（f_1=2.5）,Facebook（f_2=0.2），Linked-in（f_3=0.0004），因此，w_1=0.9258，w_2=0.0741，w_3=0.0001，时间敏感的兴趣函数表达为：<br>I(i)=0.9258×〖I(i)〗_1×0.0741×〖I(i)〗_2×0.0001×〖I(i)〗_3<br>&#160; &#160; &#160; &#160;我们选择在一定时间间隔内，关键词排名前十的兴趣来说明融合过程(兴趣是降序排名值)。<br><img src="http://7xrav5.com1.z0.glb.clouddn.com/2016030602.png" alt="enter image description here"><br><img src="http://7xrav5.com1.z0.glb.clouddn.com/2016030603.png" alt="enter image description here"><br>&#160; &#160; &#160; &#160;从单一来源的信息，如图2所示。我们可以观察到不同来源的兴趣可能重叠（e.g. “Semantic Web”, “Lar KC”, and “RDFa” 来自 Twitter和Facebook）。然而他们可能也有许多差异(如，Twitter和Linked-in之间只有一个共同兴趣即“Lar KC”)。<br>&#160; &#160; &#160; &#160;结果基于平均融合策略和时间敏感融合策略如图3所示。平均融合策略的结果列表包含7个从Twitter分析而来的兴趣,7个从Facebook分析而来的兴趣以及2个从Linked-in而来的兴趣。对时间敏感的融合策略的结果列表包含与Twitter相同的兴趣,而兴趣的值与在Twitter的兴趣呈正相关。除了重叠的兴趣项目，融合后的列表并没有包含仅仅出现在Facebook和Linked-in中的兴趣。<br>&#160; &#160; &#160; &#160;通过对图3的观察，时间敏感融合的结果同Twitter的排名列表呈现高度的正相关，因为Frank更新Twitter的频率远远高于更新Facebook。另一方面, 在Twitter相同兴趣的序列和时间敏感融合列表并不完全相同（“Web”和“Open Data”交换了他们的位置，“RDFa”和“SPARQL”也是，这主要是由来自Facebook的兴趣导致的）。因此,如果我们想要更实时的融合结果,我们应该应用时间敏感的融合策略。如果时间不是一个非常重要的因素,并且每个来源需要被考虑到,平均融合策略会更好。此外,我们可以开发自己的策略来决定这些多个来源的权重。</p>
<h1 id="4-Semantic-Reasoning-to-Infer-Implicit-Interests"><a href="#4-Semantic-Reasoning-to-Infer-Implicit-Interests" class="headerlink" title="4.    Semantic Reasoning to Infer Implicit Interests"></a>4.    Semantic Reasoning to Infer Implicit Interests</h1><p>&#160; &#160; &#160; &#160;用户兴趣不是孤立的文本，他们可能从语义角度彼此相关。为了深层次的使用用户兴趣，它们需要用知识表达语言（knowledge representation languages）来表达。此外,语义推理可用于表示用户兴趣,这样可以发现隐性兴趣。</p>
<h2 id="4-1-用户兴趣的RDF表示"><a href="#4-1-用户兴趣的RDF表示" class="headerlink" title="4.1    用户兴趣的RDF表示"></a>4.1    用户兴趣的RDF表示</h2><p>&#160; &#160; &#160; &#160;当表示多源的用户兴趣时，静态和动态的兴趣需要被分开表示。对于动态兴趣，在本文中用排名表的形式组织。每一个兴趣被分配了一个值。我们采用e-FOAF：兴趣列表去表示动态兴趣[8]。在这里，我们给出Frank van Harmelen’s基于时间敏感的兴趣画像的一部分。</p>
<pre><code>&lt;rdf:Description rdf:about=&quot;http://www.wici-lab.org/wici/
wiki/index.php/Web&quot;&gt;
&lt;dc:title&gt;Web&lt;/dc:title&gt;
&lt;e-foaf:cumulative_interest_value rdf:parse Type=&quot;Resource&quot;&gt;
&lt;rdf:value rdf:datatype=&quot;&amp;xsd;number&quot;&gt;34.922&lt;/rdf:value&gt;
&lt;/e-foaf:cumulative_interest_value&gt;
&lt;/rdf:Description&gt;
&lt;/e-foaf:interest&gt;
...
&lt;/foaf:Person&gt;
</code></pre><p>&#160; &#160; &#160; &#160;对于静态的兴趣，他们用一个兴趣集合存储。在兴趣的表示中，每一个兴趣值的性质将会被忽略。可以将动态兴趣和静态兴趣的表示放到同一个RDF文件里。他们可以用是否有值的描述来区分。或者,他们也可以表示为两个单独的文件中,这样他们可以选择性地加载不同的需求。</p>
<pre><code>&lt;foaf:Person rdf:about=&quot;http://www.cs.vu.nl/~frankh/&quot;&gt;
&lt;foaf:name&gt;Frank van Harmelen&lt;/foaf:name&gt;
&lt;foaf:topic_interest&gt;AI Department&lt;/foaf:topic_interest&gt;
&lt;foaf:topic_interest&gt;Semantic Web&lt;/foaf:topic_interest&gt;
&lt;foaf:topic_interest&gt;The Netherlands&lt;/foaf:topic_interest&gt;
...
&lt;/foaf:Person&gt;
</code></pre><p>&#160; &#160; &#160; &#160;通过使用FOAF词汇表,上面的片段是Frank van Harmelen’s静态兴趣的一个佐证。如这个例子所示,只有提供了兴趣项,他们没有一个严格的顺序。</p>
<h2 id="4-2-通过推理的兴趣层次结构查找隐式兴趣"><a href="#4-2-通过推理的兴趣层次结构查找隐式兴趣" class="headerlink" title="4.2    通过推理的兴趣层次结构查找隐式兴趣"></a>4.2    通过推理的兴趣层次结构查找隐式兴趣</h2><p>&#160; &#160; &#160; &#160;推理可以帮助找到基于现有事实的隐式知识。在我们的研究中，为了拥有一个上下关联的和对用户兴趣的更详细理解，我们需要通过对隐式用户兴趣列表的进一步推理拓展显式用户兴趣列表。<br>许多领域的知识，可以组织成一个层次化本体，以及该领域的每一项可以以不同粒度分布在不同的层面 [9,10]。最感兴趣项可以被认为是来自某个特定的域，因此，层次本体可以帮助得到一个以不同的粒度区分的特定兴趣的上下文。<br>从显式兴趣出发，我们可以近似地预测用户的主要研究领域。图 4用领域本体的一个片段呈现了”人工智能”3。我们在接下来引入了相同的方法代表RDF中的此本体。</p>
<pre><code>&lt;rdfs: Class rdf: ID=&quot;Semantic Web&quot;&gt;
&lt;rdfs:sub Class Of rdf: resource=&quot;Artificial Intelligence&quot;/&gt;
&lt;/rdfs:Class&gt;
&lt;rdfs: Class rdf: ID=&quot;RDF&quot;&gt;
&lt;rdfs:sub Class Of rdf: resource=&quot;Semantic Web&quot;/&gt;
&lt;/rdfs:Class&gt;
</code></pre><p><img src="http://7xrav5.com1.z0.glb.clouddn.com/2016030604.png" alt="enter image description here"><br>&#160; &#160; &#160; &#160;发现基于领域本体的隐性兴趣的方法，可以描述如下：<br>&#160; &#160; &#160; &#160;第1步：查找指定明确的兴趣领域本体。<br>&#160; &#160; &#160; &#160;第2步：通过某种推理进行推断。（如用 rdfs:sub Class Of或rdfs:super Class Of关系推理）<br>&#160; &#160; &#160; &#160;第3步：通过推理获得的兴趣扩展兴趣列表。<br>&#160; &#160; &#160; &#160;如果我们想要得到比显式兴趣粗略等级粒度的兴趣，我们试图弄明白现有的父类，如果我们想要得到相比显式兴趣精细等级粒度的兴趣，我们尝试推断出显式兴趣的子类。因此可以获得显式兴趣的一个层次上下文并且原始兴趣列表可以延伸。由于领域术语通常被组织在几个层次上，如果所有的层次都被认识扩张可能不是实际有效的。我们认为延伸兴趣列表比显式兴趣粗略或精细一个层次会更好。<br>&#160; &#160; &#160; &#160;例如，“Semantic Web”是Frank van Harmelen的时间敏感兴趣融合列表中的兴趣，如图3所示。我们在图 4 中的分层本体上找到此关键字。通过应用推理规则查找父类，我们就可以得出结论：Frank感兴趣的是“知识表示”。这一事实在LinkedIn的兴趣列表中，虽然它在时间敏感兴趣融合列表中不是显式的，但它仍可以从这个列表中被推测出来。我们还可以了解到Frank大概对人工智能感兴趣。</p>
<h1 id="5-结论与展望"><a href="#5-结论与展望" class="headerlink" title="5.    结论与展望"></a>5.    结论与展望</h1><p>&#160; &#160; &#160; &#160;在本文中，我们提出了多源个人兴趣融合框架。描述了该方法的工作流程并且说明了方法的不同步骤。多源兴趣融合与语义推理扩展兴趣列表这两个步骤都至关重要。我们针对兴趣融合我们提出了一个加权融合功能与两个具体策略（即平均融合和时间敏感融合）。基于Twitter、Facebook、Linden-in等多个数据来源我们提供了几个例证。我们需要声明，对于一些用户而言他们在这些平台上的个人信息是非公开的，而且该方法仅对于不介意分享个人数据的用户有效。<br>今后，我们将继续增强所提出的方法。本文中，我们主要关注动态兴趣融合。在后续研究中，我们要探讨如何整合动态兴趣和静态兴趣，并且同时实现两者的区分。其次，除了提到的平均融合策略和时间敏感融合策略，我们还要研究其他基于多源数据的兴趣融合策略的可能性。本文中，我们只介绍了等级关系的推理。而其他的需要考虑的用于产生隐式兴趣的方法，如通过语义相似度延伸兴趣列表，则需要进一步研究。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/RDF/">RDF</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/兴趣模型/">兴趣模型</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/多源数据/">多源数据</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/本体论/">本体论</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-right">
                &copy; 2016 Nothing Chi
            </div>
            
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" >本站到访数: 
                            <span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>, </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit">本页阅读量: 
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
    

<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 5;
                var backgroundimg = "url(/background/bg-2.jpg)";
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>




    <!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

<div class="scroll" id="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>

<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>
<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>

<!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
</body>
</html>